import { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport Link from 'next/link';\n\nexport default function ResetPassword() {\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [status, setStatus] = useState('form');\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const router = useRouter();\n  const { token } = router.query;\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (password !== confirmPassword) {\n      setMessage('Passwords do not match');\n      return;\n    }\n\n    if (password.length < 6) {\n      setMessage('Password must be at least 6 characters');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await fetch('/api/auth/reset-password', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ token, newPassword: password })\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        setStatus('success');\n        setMessage('Password reset successfully!');\n        setTimeout(() => router.push('/login'), 3000);\n      } else {\n        setMessage(data.message || 'Reset failed');\n      }\n    } catch (error) {\n      setMessage('Network error occurred');\n    }\n    setLoading(false);\n  };\n\n  if (!token) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"max-w-md w-full bg-white rounded-lg shadow-md p-8 text-center\">\n          <h2 className=\"text-xl font-semibold text-red-900 mb-4\">Invalid Reset Link</h2>\n          <Link href=\"/login\" className=\"bg-yellow-500 text-white px-6 py-2 rounded-lg hover:bg-yellow-600\">\n            Go to Login\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n      <div className=\"max-w-md w-full bg-white rounded-lg shadow-md p-8\">\n        {status === 'success' ? (\n          <div className=\"text-center\">\n            <div className=\"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <svg className=\"w-6 h-6 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n              </svg>\n            </div>\n            <h2 className=\"text-xl font-semibold text-green-900 mb-2\">Password Reset!</h2>\n            <p className=\"text-gray-600 mb-4\">{message}</p>\n            <p className=\"text-sm text-gray-500\">Redirecting to login...</p>\n          </div>\n        ) : (\n          <>\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-6 text-center\">Reset Password</h2>\n            \n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  New Password\n                </label>\n                <input\n                  type=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent\"\n                  required\n                  minLength={6}\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Confirm Password\n                </label>\n                <input\n                  type=\"password\"\n                  value={confirmPassword}\n                  onChange={(e) => setConfirmPassword(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent\"\n                  required\n                  minLength={6}\n                />\n              </div>\n\n              {message && (\n                <div className=\"text-red-600 text-sm text-center\">{message}</div>\n              )}\n\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"w-full bg-yellow-500 text-white py-2 px-4 rounded-lg hover:bg-yellow-600 disabled:opacity-50\"\n              >\n                {loading ? 'Resetting...' : 'Reset Password'}\n              </button>\n            </form>\n\n            <div className=\"mt-6 text-center\">\n              <Link href=\"/login\" className=\"text-yellow-600 hover:text-yellow-700\">\n                Back to Login\n              </Link>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}